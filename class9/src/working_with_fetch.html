<!DOCTYPE html>
<html>
<body>
    <script>
        console.log("Working with fetch");
        // GET DATA
        fetch("https://jsonplaceholder.typicode.com/users")
        .then(res => {
            console.log(res);
            // dokolku statusot e ok, ispecati ja datata, ako ne pojavi error, tekst not successful
            if(res.ok) {
                res.json().then(data => console.log(data));
            } else {
                console.log("not successful");
            }
        })
        // .then(data => console.log(data))
        // .catch(error => console.log("error"));


        // CREATE DATA
        fetch("https://jsonplaceholder.typicode.com/users", {
            method: 'POST',
            headers: {
                "Content-type": "application/json"
            },
            body: JSON.stringify ({
                name: "Martin",
                username: "trajkov111",
            })
        }).then(res => res.json().then(data => console.log(data)))


        // UPDATE DATA
        fetch("https://jsonplaceholder.typicode.com/users/1", {
            method: 'PUT',
            headers: {
                "Content-type": "application/json",
                // "X-Auth-Token": "sadsfdgbnyetrsdzxvcbhfjyhtgr",
                // "Secret": "asdasvfdgfhjgfddsdf",
                // "Authentication": "Bearer: token"
            },
            body: JSON.stringify ({
                name: "Martin",
                username: "trajkov111",
                email: "trajkov@example.com"
            })
        }).then(res => res.json().then(data => console.log(data)))


        // DELETE DATA
        fetch("https://jsonplaceholder.typicode.com/users/3", {
            method: 'DELETE',
            headers: {
                "Content-type": "application/json",
            },
        }).then(res => res.json().then(data => console.log(data)))

    </script>
</body>
</html>

<!-- so headers kazuvame deka mu prakjame JSON file -->
<!-- so prviot primer se podrazbira deka e get metoda deka nisto ne prakjame -->